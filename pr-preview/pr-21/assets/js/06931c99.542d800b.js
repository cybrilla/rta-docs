"use strict";(self.webpackChunkrta_docs=self.webpackChunkrta_docs||[]).push([[1399],{9067:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var i=n(4848),r=n(8453);const s={sidebar_position:1,sidebar_label:"Authentication",title:"Authentication"},d="Authentication",a={id:"additional-apis/authn",title:"Authentication",description:"Getting Started",source:"@site/docs/additional-apis/authn.md",sourceDirName:"additional-apis",slug:"/additional-apis/authn",permalink:"/pr-preview/pr-21/docs/additional-apis/authn",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,sidebar_label:"Authentication",title:"Authentication"},sidebar:"sidebar",previous:{title:"Additional APIs",permalink:"/pr-preview/pr-21/docs/additional-apis/"},next:{title:"Pre Verification API",permalink:"/pr-preview/pr-21/docs/additional-apis/pre-verification"}},c={},l=[{value:"Getting Started",id:"getting-started",level:2},{value:"Getting partner token",id:"getting-partner-token",level:2},{value:"Headers",id:"headers",level:3},{value:"Request Parameters",id:"request-parameters",level:3},{value:"Sample Request",id:"sample-request",level:3},{value:"Sample Response",id:"sample-response",level:3}];function o(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"authentication",children:"Authentication"})}),"\n",(0,i.jsx)(t.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Write an email to ",(0,i.jsx)(t.a,{href:"mailto:poa.support@cybrilla.com",children:"poa.support@cybrilla.com"})," and register yourself as OAuth 2.0 client for partner authentication purposes. At present, access to POA additional APIs is provided only to AMC partners i.e. distributors and advisors."]}),"\n",(0,i.jsxs)(t.li,{children:["We will share the ",(0,i.jsx)(t.code,{children:"client_id"})," and ",(0,i.jsx)(t.code,{children:"client_secret"})]}),"\n",(0,i.jsxs)(t.li,{children:["Use ",(0,i.jsx)(t.code,{children:"POST /v2/auth/cybrillarta/token"})," endpoint and provide ",(0,i.jsx)(t.code,{children:"client_id"})," and ",(0,i.jsx)(t.code,{children:"client_secret"})," to generate token object."]}),"\n",(0,i.jsxs)(t.li,{children:["Use the generated token object's ",(0,i.jsx)(t.code,{children:"access_token"})," to access additional POA APIs."]}),"\n",(0,i.jsx)(t.li,{children:"Every token object will have an expiry time. Ensure that you are creating a new token object if the existing token object is expired."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"getting-partner-token",children:"Getting partner token"}),"\n",(0,i.jsx)(t.p,{children:"For partner tokens, we are using Client Credentials flow. This flow is recommended for server-side (aka confidential) client applications with no end-user, which normally describes server-to-server communication. The application needs to securely store its client ID and secret and pass them in exchange for an access token."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.code,{children:"POST /v2/auth/cybrillarta/token"})}),"\n",(0,i.jsx)(t.h3,{id:"headers",children:"Headers"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Parameter"}),(0,i.jsx)(t.th,{children:"Mandatory"}),(0,i.jsx)(t.th,{children:"Default"}),(0,i.jsx)(t.th,{children:"Value"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"accept"}),(0,i.jsx)(t.td,{children:"yes"}),(0,i.jsx)(t.td,{children:"-"}),(0,i.jsx)(t.td,{children:"application/json"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"content-type"}),(0,i.jsx)(t.td,{children:"yes"}),(0,i.jsx)(t.td,{children:"-"}),(0,i.jsx)(t.td,{children:"application/x-www-form-urlencoded"})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"request-parameters",children:"Request Parameters"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Parameter"}),(0,i.jsx)(t.th,{children:"Mandatory"}),(0,i.jsx)(t.th,{children:"Default"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"client_id"}),(0,i.jsx)(t.td,{children:"yes"}),(0,i.jsx)(t.td,{children:"-"}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"client_id"})," provided by POA"]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"client_secret"}),(0,i.jsx)(t.td,{children:"yes"}),(0,i.jsx)(t.td,{children:"-"}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"client_secret"})," provided by POA"]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"grant_type"}),(0,i.jsx)(t.td,{children:"yes"}),(0,i.jsx)(t.td,{children:"-"}),(0,i.jsxs)(t.td,{children:["Must be ",(0,i.jsx)(t.code,{children:"client_credentials"})]})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"sample-request",children:"Sample Request"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"curl --location '{{base_url}}/poa/auth/token' \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'client_id=<client_id>' \\\n--data-urlencode 'client_secret=<client_secret>' \\\n--data-urlencode 'grant_type=client_credentials'\n"})}),"\n",(0,i.jsx)(t.h3,{id:"sample-response",children:"Sample Response"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n    "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIyUVVoVl9aaGVyQmRHMjVQMl83cmdVaDYxcS1WXzZ0NzNmO",\n    "expires_in": 1800,\n    "refresh_expires_in": 0,\n    "token_type": "Bearer",\n    "not-before-policy": 0,\n    "scope": "partner"\n}\n'})})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>d,x:()=>a});var i=n(6540);const r={},s=i.createContext(r);function d(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);